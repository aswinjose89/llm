public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {
    String path = baseRequest.getPathInfo();
    int soff = 0, eoff;
    // We're handling this request
    baseRequest.setHandled(true);

    if (path == null || path.length() == 0 || path.charAt(0) != '/') {
        response.sendError(HttpStatus.NOT_FOUND_404);
        return;
    }
    soff = 1;
    eoff = path.indexOf('/', soff);
    if (eoff == -1) {
        response.sendError(HttpStatus.NOT_FOUND_404);
        return;
    }
    String world = path.substring(soff, eoff);
    String uri = path.substring(eoff+1);
    // Additional input validations here

    // Existing code without changes
}