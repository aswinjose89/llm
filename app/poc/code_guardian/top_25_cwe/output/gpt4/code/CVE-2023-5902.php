
function validate($callHooks = true) {
    $userGroupId = (int) filter_input(INPUT_POST, 'userGroupId', FILTER_SANITIZE_NUMBER_INT);
    $userId = (int) filter_input(INPUT_POST, 'userId', FILTER_SANITIZE_NUMBER_INT);
    // Ensure that submission retrieval is safe and properly validated.
    $submissionId = (int) filter_input(INPUT_POST, 'submissionId', FILTER_SANITIZE_NUMBER_INT);
    $submissionDao = DAORegistry::getDAO('SubmissionDAO');
    $submission = $submissionDao->getById($submissionId);

    $userGroupDao = DAORegistry::getDAO('UserGroupDAO');
    if ($submission && $userGroupDao->userInGroup($userId, $userGroupId)) {
        return $userGroupDao->getById($userGroupId, $submission->getContextId());
    }
    return false;
}
